<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="T-Regx Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="T-Regx Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="T-Regx" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Template Syntax | T-Regx</title><meta data-react-helmet="true" property="og:url" content="https://t-regx.com/docs/template-syntax"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Template Syntax | T-Regx"><meta data-react-helmet="true" name="description" content="Documentation for version: 0.39.0"><meta data-react-helmet="true" property="og:description" content="Documentation for version: 0.39.0"><meta data-react-helmet="true" property="og:image" content="https://t-regx.com/img/t.regx.png"><meta data-react-helmet="true" name="twitter:image" content="https://t-regx.com/img/t.regx.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://t-regx.com/docs/template-syntax"><link data-react-helmet="true" rel="alternate" href="https://t-regx.com/docs/template-syntax" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://t-regx.com/docs/template-syntax" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.099beaf8.css">
<link rel="preload" href="/assets/js/runtime~main.d6ec1de5.js" as="script">
<link rel="preload" href="/assets/js/main.afe1c039.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">T-Regx</strong></a><a class="navbar__item navbar__link" href="/docs/overview">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/comparison">Compare</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/replit">Try online</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ChangeLog</a><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">T-Regx</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/comparison">Compare</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/replit">Try online</a></li><li class="menu__list-item"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="menu__link">ChangeLog</a></li><li class="menu__list-item"><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview">What&#x27;s T-Regx?</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Kick Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction">Introduction to T-Regx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction-preg">Summary of preg methods</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Matching</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match">Matching overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-first">First occurrence</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-for-each">Iterating matches</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-map">Map occurrences</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-flat-map">Map with keys (Flat map)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/count">Counting occurrences</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Match Details</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-details">Match details</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-groups">Capturing groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-offsets">Match offsets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-as-int">Handling integers</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Replacing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/replace">Replacing a string</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/replace-with">Replace with a constant value</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/replace-callback">Replace with callback</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Prepared Patterns</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prepared-patterns">Introduction</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/template-syntax">Template Syntax</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Misc</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pattern-list">Multiple patterns</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/delimiters">Automatic delimiters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/split">Split a string</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filter">Filtering an array</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-iterator">Iterator</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Exceptions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/exception-structure">Exceptions overview</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-groups-in-depth">Capturing groups - in depth</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-groups-j-modifier">Capturing groups - J modifier</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">PHP Hate</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/why-php-sucks">Why PHP sucks?</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Template Syntax</h1></header><div class="markdown"><p>Documentation for version: 0.39.0</p><p><em>&quot;Template&quot;</em> in prepared patterns terminology is simply a regular expression
with placeholders <code>@</code>. </p><p>The choosing of <code>&quot;@&quot;</code> character as the placeholder is intentional. PHP uses PCRE
(Perl-Compatible Regular Expressions) internally as the regular expressions engine.
Character <code>@</code> in Perl language is variable interpolation. Despite no technological
connection with Perl, the selection of <code>@</code> seams appropriate.</p><p>When used with entry points <code>Pattern::inject()</code> or <code>Pattern::template()</code>, placeholders
<code>@</code> match whatever characters or figures are bound to the placeholders when the prepared
pattern is instantiated.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$animalPattern = Pattern::inject(&#x27;^(my|your) @$&#x27;, [&#x27;cat?&#x27;]);  // &#x27;cat?&#x27; is bound to the first placeholder</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><code>Pattern</code> in <code>$animalPattern</code> matches <code>&quot;my cat?&quot;</code> or <code>&quot;your cat?&quot;</code>, but not
<code>&quot;my ca&quot;</code> (because regular expression quantifier <code>?</code> is not treated as an expression,
but literally as character <code>&quot;?&quot;</code>). </p><p>Following the expression step by step, we find that <code>^</code> matches the start of the subject,
<code>(my|your)</code> matches either <code>&quot;my&quot;</code> or <code>&quot;your&quot;</code>, then space matches the space character <code>&quot; &quot;</code>,
placeholder <code>@</code> matches the string <code>&quot;cat?&quot;</code> literally, and assertion <code>$</code> matches the end
of the subject.</p><p>The programming interface of prepared patterns is described in the previous chapter:
<a href="/docs/prepared-patterns">Prepared patterns - Overview</a>. This chapter <a href="/docs/template-syntax">Template syntax</a>
is dedicated solely to the template syntax and behaviour and meaning of <code>@</code> used in the
template. The <a href="#summary">Summary</a> is available at the end of the chapter.</p><p>The template syntax is the same for every prepared pattern entry-point, including:
<code>Pattern::inject()</code>, <code>Pattern::template()</code> and <code>Pattern::builder()</code>. Examples in this chapter
mostly illustrate <code>Pattern::inject()</code>, but all of the rules apply to <code>Pattern::template()</code>
and <code>Pattern::builder()</code> accordingly.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="placeholder-in-regular-expression"></a>Placeholder in regular expression<a class="hash-link" href="#placeholder-in-regular-expression" title="Direct link to heading">#</a></h2><p>Placeholder <code>@</code> used in template behaves very similarly to standard regular expression
figures. It can be escaped, used in a character class, quantified, used in a capturing group,
atomic group, look-aheads/look-behinds; used in a group comment, extended comment syntax, in
a quote and as a control character.</p><p>Standard usage of placeholder <code>@</code> is to bind a figure to be used in the regular expression.</p><p>In this example, we&#x27;ll try to match the contents of <code>$content</code> enclosed between forward slashes or
backslashes (so we want to match either <code>&quot;/word/&quot;</code> or <code>&quot;\word\&quot;</code>, but not <code>&quot;/word\&quot;</code> nor <code>&quot;\word/&quot;</code>):</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$content = &#x27;.?!&#x27;;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$enclosed = Pattern::inject(&quot;([\\\\/])@\1&quot;, [$content]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$enclosed</code> matches either string <code>&quot;/.?!/&quot;</code> or string <code>&quot;\.?!\&quot;</code>, but not <code>&quot;\.?!/&quot;</code>.
Notice, that while <code>.</code>, <code>?</code> and <code>!</code> are regular expression special characters, they&#x27;re matched
literally when they&#x27;re bound to the placeholder.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$content = &#x27;.?!&#x27;;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$enclosed = Pattern::inject(&#x27;([\\\\/])@\1&#x27;, [$content]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$search = $enclosed-&gt;search(&quot;/.?!/ and other \.?! and \.?!\ and maybe /.?!\&quot;);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">var_dump($search-&gt;all());</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><div tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">array(2) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  [0]=&gt;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  string(5) &quot;/.?!/&quot;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  [1]=&gt;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  string(5) &quot;\.?!\&quot;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Try and run prepared patterns examples online, right in your browser: <a href="/replit">Try online</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="literal-usage-of--in-the-template"></a>Literal usage of <code>&quot;@&quot;</code> in the template<a class="hash-link" href="#literal-usage-of--in-the-template" title="Direct link to heading">#</a></h2><p>Like every other regular expression figure, so can <code>@</code> be escaped, in order to represent a
literal <code>&quot;@&quot;</code> character. Escaping the placeholder revokes its meaning, and thus <code>\@</code> matches
<code>&quot;@&quot;</code> character. Escaped <code>&quot;@&quot;</code> characters are not placeholders, and so figures
cannot be bound to the escaped <code>@</code>. Template <code>@\@@</code> accepts exactly two figures. Binding any
less or more then two figures results in <code>PlaceholderFigureException</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$username = &quot;mark&quot;;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$mailPattern = Pattern::inject(&quot;@\@\w+.com&quot;, [$username]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><code>Pattern</code> in <code>$mail</code> matches <code>&quot;mark@gmail.com&quot;</code>, because the first occurrence of <code>@</code> is a
placeholder, and so matches the bound string <code>&quot;mark&quot;</code>, and the second character occurrence <code>@</code> is
escaped (<code>&quot;\@&quot;</code>) and so is not a placeholder, thus matches <code>&quot;@&quot;</code> literally.</p><p>Another possibility would be binding character <code>&quot;@&quot;</code> as a figure, but that&#x27;s not recommended.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$username = &quot;mark&quot;;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$mailPattern = Pattern::inject(&quot;@@\w+.com&quot;, [$username, &#x27;@&#x27;]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Of course, binding <code>&quot;@&quot;</code> string to the second placeholder does indeed match <code>&quot;@&quot;</code> literally,
but that yields an insufficient expression. It&#x27;s recommended to escape the <code>\@</code> character.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="backslash-before-the-placeholder"></a>Backslash before the placeholder<a class="hash-link" href="#backslash-before-the-placeholder" title="Direct link to heading">#</a></h3><p>To match characters <code>&quot;\@&quot;</code> literally, the backslash must be escaped, by regular expression.
The placeholder <code>@</code> will be bound to the figure.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$template = &quot;\\\\@&quot;; // string &quot;\\@&quot;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">Pattern::inject($template, [$figure]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In simple terms: a backslash before a character (be it another backslash or a placeholder)
revokes its special meaning. Escaped backslash matches character <code>&quot;\&quot;</code> literally. Escaped
placeholder matches <code>&quot;@&quot;</code> literally.</p><p>Remember about PHP string notation, when escaping special characters. In PHP, notation <code>&quot;\\&quot;</code> is
actually a single backslash, so in order to produce a string with two backslash characters, one
should choose PHP notation <code>&#x27;\\\\&#x27;</code> or <code>&quot;\\\\&quot;</code>, which produces a string of length <code>2</code>, containing
two backslashes.</p><p>Escaped <code>&quot;@&quot;</code> character in PHP notation could be produced by <code>&quot;\\@&quot;</code> (which yields <code>&quot;\@&quot;</code>). For
simplicity, single quotes can be used which allow occasional backslash <code>&#x27;\@&#x27;</code> (which also yields <code>&quot;\@&quot;</code>).</p><p>When in doubt, or struggling to get the amount of backslashes just right, inspecting the actual
template <code>string</code> can be helpful, either by using debugger or by using <code>var_dump()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$template = &quot;\\\\\\@&quot;;             // complex PHP notation</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">var_dump($template);               // inspect the template, it contains &quot;\\\@&quot;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">Pattern::inject($template, []); </span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The inspection of <code>$template</code> string variable revealed that PHP notation <code>$template = &quot;\\\\\\@&quot;;</code>
actually yields a string containing three backslashes <code>&quot;\&quot;</code> and one <code>&quot;@&quot;</code>. So prepared patterns
interpret such template as one escaped backslash (<code>&quot;\\&quot;</code>) and one escaped <code>&quot;\@&quot;</code>, so such regular
expression matches string <code>&quot;\@&quot;</code> literally. </p><p>A cleaner way of matching characters <code>&quot;\@&quot;</code> would be:</p><ul><li><code>Pattern::literal(&#x27;\@&#x27;)</code> which matches <code>&quot;\@&quot;</code> literally</li><li><code>Pattern::of(&#x27;\@&#x27;)</code> which also matches <code>&quot;\@&quot;</code></li><li><code>Pattern::inject(&#x27;@&#x27;, [&#x27;\@&#x27;])</code> albeit template <code>&#x27;@&#x27;</code> on itself is overly verbose</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quantified-placeholders"></a>Quantified placeholders<a class="hash-link" href="#quantified-placeholders" title="Direct link to heading">#</a></h2><p>Placeholder <code>@</code> used in template behaves very similarly to standard regular expression figures.
It is quantifiable, which means it can be followed by a quantifier. </p><p>In standard regular expression, a quantifier determines the number of times the preceding figure is
matched. For example, <code>a+</code> means &quot;match <code>a</code> one or more times&quot;. So regular expression <code>a+</code> matches
strings: <code>&quot;a&quot;</code>, <code>&quot;aa&quot;</code>, <code>&quot;aaa&quot;</code>, etc. Other quantifiers include <code>?</code> and <code>*</code>. The former indicates
zero or one times, which is often called an &quot;optional quantifier&quot;. Common examples of the optional
quantifier include <code>https?://</code> and <code>.jpe?g</code>, which match both <code>&quot;http://&quot;</code> and <code>&quot;https://&quot;</code> in the
first example, and <code>&quot;.jpg&quot;</code> and <code>&quot;.jpeg&quot;</code> in the second example. The last quantifier wildcard is <code>*</code>,
which matches any number of times. Regular expression <code>\(\w*\)</code> matches any number of <code>\w</code> characters
between parenthesis, for example: <code>&quot;()&quot;</code>, <code>&quot;(w)&quot;</code>, <code>&quot;(wor)&quot;</code>, <code>&quot;(words)&quot;</code>.</p><p>Apart from the standard <code>?</code>, <code>+</code>, and <code>*</code> quantifiers, regular expressions also allow custom ranges,
expressed in regular expression <code>{n}</code>,<code>{n,}</code>,<code>{,n}</code>,<code>{n,n}</code>. </p><p>The corresponding quantifiers determine: </p><ul><li><code>{n}</code> - exactly <code>n</code> times</li><li><code>{n,}</code> - <code>n</code> or more times</li><li><code>{,n}</code> - <code>n</code> or less times</li><li><code>{n1,n2}</code> - more than <code>n1</code> times, but not more than <code>n2</code> times.</li></ul><p>So in truth, quantifier <code>?</code> is identical to <code>{,1}</code>, quantifier <code>+</code> is <code>{1,}</code> and quantifier <code>*</code> is
identical to <code>{0,}</code>.</p><p>Quantifiers <code>?</code>, <code>*</code>, <code>+</code> and <code>{1,2}</code> can follow placeholder <code>@</code>. The quantifier that follows the
placeholder, applies exclusively to the placeholder, and in the matching process, to the whole figure
bound.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quantifier-"></a>Quantifier <code>?</code><a class="hash-link" href="#quantifier-" title="Direct link to heading">#</a></h3><p>In the example below, the first placeholder is quantified with <code>?</code>, and is bound a figure <code>&#x27;https&#x27;</code>.
The second placeholder is not quantified.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$uri = Pattern::inject(&#x27;^@?://@$&#x27;, [&#x27;https&#x27;, &#x27;google.com&#x27;]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$uri</code> matches <code>&quot;https://google.com&quot;</code> and <code>&quot;://google.com&quot;</code>. However, it does not match
<code>&quot;http://google.com&quot;</code>. The quantifier <code>?</code> applies to the whole <code>&#x27;https&#x27;</code> figure, so the quantified
placeholder <code>@?</code> either matches the whole figure <code>&quot;https&quot;</code> or nothing at all.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quantifier--1"></a>Quantifier <code>+</code><a class="hash-link" href="#quantifier--1" title="Direct link to heading">#</a></h3><p>In the the next example, the placeholder is quantified with <code>+</code>, which means the figure matches
one or more times.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$emptyParenthesis = Pattern::inject(&#x27;@+&#x27;, [&#x27;()&#x27;]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$emptyParenthesis</code> matches strings: <code>&quot;()&quot;</code>, <code>&quot;()()&quot;</code>, <code>&quot;()()()&quot;</code>, etc. but doesn&#x27;t match <code>&quot;()))&quot;</code>.</p><p>It may appear, that since the bound figure <code>&quot;()&quot;</code> consists of two characters, then perhaps
the <code>+</code> quantifier applies only to the rightmost character, as in vanilla regular expression.
That is not the case with prepared patterns. The quantifier <code>+</code> applies to the placeholder, and so
figure <code>&quot;()&quot;</code> matches one or more times, but <code>&quot;)&quot;</code> is not matched on itself.</p><p>For curious readers, to match <code>&quot;()&quot;</code> as well as <code>&quot;()))&quot;</code>, one should use two placeholders and two
figures, for the prepared patterns to match <code>&quot;(&quot;</code> and <code>&quot;)&quot;</code> separately.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$parenthesis = Pattern::inject(&#x27;@@+&#x27;, [&#x27;(&#x27;, &#x27;)&#x27;]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$parenthesis</code> matches <code>&quot;()&quot;</code> as well as <code>&quot;()))&quot;</code>. Entry-point <code>Pattern::of(&#x27;\(\)+&#x27;)</code> can
also be used.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quantifier-after-an-empty-bound-figure"></a>Quantifier after an empty bound figure<a class="hash-link" href="#quantifier-after-an-empty-bound-figure" title="Direct link to heading">#</a></h3><p>In the final example with quantifiers, the placeholder is bound an empty string as a figure <code>&quot;&quot;</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$emptyString = &quot;&quot;;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^&lt;@?&gt;$&#x27;, [$emptyString]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$pattern</code> matches subject <code>&quot;&lt;&gt;&quot;</code>, but not <code>&quot;&gt;&quot;</code>. It might appear, that since the figure
is empty, the quantifier <code>?</code> applies to the preceding character, in this case <code>&lt;</code> (as if the effective
regular expression was <code>/&lt;?&gt;/</code>). That is not the case, the quantifier following the placeholder always
applies to the bound figure, in this case an empty string.</p><p>In summary, given a template <code>^&lt;@?&gt;$</code>: figure <code>&lt;</code> matches <code>&quot;&lt;&quot;</code>, quantified placeholder <code>@?</code> matches
either the bound figure or nothing (in which case it&#x27;s either an empty string, or an empty string),
and then finally <code>&gt;</code> matches <code>&quot;&gt;&quot;</code>. Granted, the pattern <code>$pattern</code> doesn&#x27;t serve much utility, but
the example given is only for illustrative purposes. Quantifiers apply to the placeholders - even
when the bound figure itself is an empty string. </p><p>In other words, the bound figure is matched as a single &quot;chunk&quot; and quantifiers and other regular
expression symbols used in the template don&#x27;t &quot;skip the chunk&quot; (as shows the example with an empty
figure) and also don&#x27;t  &quot;split the chunk&quot; (as shows the example with placeholder quantified with <code>+</code>).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="capturing-placeholders"></a>Capturing placeholders<a class="hash-link" href="#capturing-placeholders" title="Direct link to heading">#</a></h2><p>Placeholder <code>@</code> used in template behaves very similarly to standard regular expression
figures, so can be captured when matched. Normally, placeholders don&#x27;t capture anything.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^@?://@$&#x27;, [&#x27;https&#x27;, &#x27;google.com&#x27;]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$pattern</code> doesn&#x27;t contain any capturing groups, so calling <code>.get()</code> or <code>.group()</code>
on a matcher of such pattern would issue <code>NonexistentGroupException</code>.</p><p>However prepared patterns placeholders behave very similarly to standard regular expression
figures, and so can be captured just like any other regular expression figure.</p><p>To capture part of the template with placeholder <code>@</code>, simply enclose the desired part with
a capturing group <code>()</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">// Instantiate the pattern</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^(@?://)@$&#x27;, [&#x27;https&#x27;, &#x27;google.com&#x27;]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">// match the pattern against the subject</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$matcher = $pattern-&gt;match(&#x27;https://google.com&#x27;);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">// match the first occurrence</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$detail = $matcher-&gt;first();</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$detail-&gt;get(1); // string &quot;https://&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To capture solely the placeholder, enclose the placeholder in the capturing group: <code>(@)</code>. At first,
it may appear that capturing only the placeholder serves very little value, since the captured text
is going to be exactly the figure that was bound to the placeholder in the first place. While that
is correct, not only text is captured in a capturing group, but also other data such as <code>Group.offset()</code>
and <code>Group.tail()</code>. Additionally, quantified capturing group <code>(@)?</code> can determine whether the
placeholder was matched or not, using <code>Group.matched()</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="character--in-a-character-class"></a>Character <code>@</code> in a character class<a class="hash-link" href="#character--in-a-character-class" title="Direct link to heading">#</a></h2><p>Most standard regular expression symbols, when used in a character class, are revoked its special
regular expression meaning. Such symbols are then matched literally.</p><p>For example, special character period <code>.</code> and special character <code>?</code> used in a character class
are no longer interpreted as &quot;any character&quot; (for the period <code>.</code>) and as optional quantifier (for
the question mark <code>?</code>). Instead, they&#x27;re matched literally.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$dotsAndQuestions = Pattern::of(&#x27;^[.?]$&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$dotsAndQuestions</code> matches string <code>&quot;.&quot;</code> or <code>&quot;?&quot;</code>.</p><p>The same is true for character <code>@</code> used in a character class.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^[.?@]$&#x27;, []);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Character <code>@</code> present in a character class in prepared patterns is not a placeholder, and so
a figure cannot be bound to it. Pattern <code>$pattern</code> matches <code>&quot;@&quot;</code> as well as <code>&quot;.&quot;</code> and <code>&quot;?&quot;</code>. Binding a figure
to a template in which character <code>@</code> is in a character class (and in which there are no other placeholders)
throws <code>PlaceholderFigureException</code>, since the number of placeholders in the template and the number
of bound figures must match, and character <code>@</code> in a character class is not a placeholder.</p><p>Escaped <code>@</code> character in the character class behaves similarly to other escaped character in the character class,
and by regular expression escapes of characters <code>.</code>, <code>?</code> and <code>@</code> are redundant. More precisely, there is
no difference between escaped <code>.</code> and non-escaped period in the character class. That&#x27;s also true for <code>?</code>
and of course character <code>@</code> in the character class.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^[\.\?\@]$&#x27;, []);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$pattern</code> matches the same subjects: <code>&quot;.&quot;</code>, <code>&quot;?&quot;</code> and <code>&quot;@&quot;</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="comments"></a>Comments<a class="hash-link" href="#comments" title="Direct link to heading">#</a></h2><p>Regular expressions offer notation for comments within the expression. The two kinds of comments in prepared
patterns are: group comments and extended comment (when <code>/x</code> modifier is set). The comments don&#x27;t match any
characters, cannot be quantified, nested in other comments or otherwise referred to by other regular expression
constructs. </p><p>As a figure of speech, one can say that comments are &quot;ignored&quot; by the regular expressions. That is not entirely
true, since the comment groups and extended comments still must be parsed and interpreted by the regular
expression engine, however it can be said that the comments are ignored in the matching process.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="group-comments"></a>Group comments<a class="hash-link" href="#group-comments" title="Direct link to heading">#</a></h3><p>Syntax for group comment in regular expression is <code>(?#...)</code>. Any characters enclosed in a group comment
aren&#x27;t matched or interpreted as regular expression special characters in any way. In particular, backslash
<code>\ </code>  in the comment group is interpreted as comment, and so doesn&#x27;t escape anything. The closing parenthesis
terminates the comment group.</p><p>When character <code>@</code> appears in the group comment, it is also interpreted as comment by prepared patterns,
and as such is not considered a placeholder.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^word(?#mail@gmail.com)$&#x27;, []);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$pattern</code> matches subject <code>&quot;word&quot;</code>. No figure can be bound to the template. The template doesn&#x27;t
contain any placeholders, since character <code>@</code> in the template is enclosed in the comment group.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="comments-and-x-modifier"></a>Comments and <code>/x</code> modifier<a class="hash-link" href="#comments-and-x-modifier" title="Direct link to heading">#</a></h3><p>Apart from standard regular expression group comment, PCRE offers extended syntax for regular expressions.</p><p>Extended syntax in regular expressions can be enabled by setting <code>x</code> (lowercase) modifier in the pattern.
In extended mode, whitespace is not being matched and additional comment notation is available. Comments
start with character <code>#</code> and end with with the current newline character. </p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::of(&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    https?://     # scheme</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    (?:www\.)?    # optional www.</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    [a-z0-9-]+    # the domain</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    \.(org|com)   # top-level domain</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">&#x27;, &#x27;x&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Pattern <code>$pattern</code> from the example above is actually identical to the pattern without <code>/x</code> modifier set:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::of(&#x27;https?://(?:www\.)?[a-z0-9-]+\.(org|com)&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In extended mode, leading and trailing whitespace as well as comments can be added for readability and
for spacial padding, to ease the understanding of the regular expression. Not every whitespace is ignored,
of course, for example, escaped spaces <code>&quot;\ &quot;</code> still match a space <code>&quot; &quot;</code>, and so do spaces in character classes.</p><p>When character <code>@</code> is used in a comment, it is treated as part of the comment.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$mailPattern = Pattern::inject(&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    ^                    # start</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    @                    # username</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    \@                   # at &quot;@&quot; character</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    (gmail|hotmail)\.com # domain</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    $                    # end</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">&#x27;, [$username], &#x27;x&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The first character <code>@</code> is a placeholder with bound username, the second character <code>@</code> is escaped
in the regular expression, and the third is part of the comment, and as such is not a placeholder.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="quote-with-q-and-e"></a>Quote with <code>\Q</code> and <code>\E</code><a class="hash-link" href="#quote-with-q-and-e" title="Direct link to heading">#</a></h2><p>By regular expression, characters enclosed between <code>\Q</code> and <code>\E</code> are matched literally. No special
character maintains its special behaviour. In particular, backslash character is matched literally,
thus no escaping happens within <code>\Q</code> <code>\E</code> quote. For example, <code>\Q\\E</code> matches backslash <code>&quot;\&quot;</code> literally.
Figure <code>\E</code> that&#x27;s not preceded by a corresponding <code>\Q</code>, is simply ignored. On the other hand, <code>\Q</code>
without the corresponding <code>\E</code> continues the literal quote to the end of the expression - the missing
<code>\E</code> is assumed to be present at the end of the pattern.</p><p>Additionally, <code>\Q</code> <code>\E</code> quote can also appear in its entirety in a character class, for example:
<code>[\Q]\\E]</code>. Such character class matches characters <code>&quot;]&quot;</code> and <code>&quot;\&quot;</code>. </p><p>Pair <code>\Q</code> <code>\E</code> can be used to match a sequence of characters, which are supposed to be treated literally,
without losing much readability. A common use-case would be a regular expression, that&#x27;s supposed
to match <em>other</em> regular expressions. Should we match string <code>&quot;^https?://(\w+@)?[\w.]+/&quot;</code>, quote in
<code>\Q</code> <code>\E</code> could be viable choice for that. Of course, it doesn&#x27;t differ much from escaping all the
special characters in terms of matching - it gains only in readability.</p><p>Character <code>@</code> appearing within <code>\Q</code> <code>\E</code> quote is not a placeholder, and thus is matched literally.
Quote <code>\Q</code> <code>\E</code> matches every character within it, and so character <code>@</code> is also matched literally,
should <code>\Q</code> be used.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^(\Q^https?://(\w+@)?[\w.]+/\E)+$&#x27;, []);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Notice, however, that even more readability can be gained by binding the exact string to the placeholder.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^(\Q^https?://(\w+@)?[\w.]+/\E)+$&#x27;, []);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&#x27;^@+$&#x27;, [&#x27;^https?://(\w+@)?[\w.]+/&#x27;]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>On the point of secure regular expression, it might appear that because all characters are matched
literally within <code>\Q</code> <code>\E</code>, it could be safe to use PHP string interpolation to insert parts of the
values to be matched.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$value = &quot;...&quot;;                               // values to be matched literally</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::of(&quot;^(\Q$values\E)+$&quot;);   // potentially dangerous</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>However, that may not be the best way to incorporate such values into the pattern, since <code>$value</code> can
potentially contain <code>\E</code>, in which case the characters following <code>\E</code> in <code>$value</code> will be interpreted
with their respective special regular expression behaviour. </p><p>It&#x27;s recommended to bind the value to the placeholder:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$value = &quot;...&quot;; // values to be matched literally</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::inject(&quot;^@+$&quot;, [$value]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Additionally, placeholders are quantifiable, where-as quotes <code>\Q</code> <code>\E</code> are not (<code>\Q\E+</code> is a pattern error). </p><p>For these facts, quote <code>\Q</code> <code>\E</code> is used very rarely, and placeholders with bound figures are used much more
frequently.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="improper-usage-of--placeholder"></a>Improper usage of <code>@</code> placeholder<a class="hash-link" href="#improper-usage-of--placeholder" title="Direct link to heading">#</a></h2><p>Some syntax constructs in the prepared patterns aren&#x27;t applicable to be used with <code>@</code> placeholders. One
such construct is named capturing groups. Character <code>@</code> used in the name of a capturing group: <code>(?&lt;@gmail&gt;)</code>,
is not a placeholder, and so figure is not bound to it. Furthermore, such template yields a pattern which
also contains <code>(?&lt;@gmail&gt;)</code>, which isn&#x27;t a properly formatted regular expression. And as any improperly
formed regular expression pattern, it throws <code>MalformedPatternException</code> when used.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="summary"></a>Summary<a class="hash-link" href="#summary" title="Direct link to heading">#</a></h2><ul><li>Placeholders <code>@</code> behave similarly to standard regular expression figures</li><li>Placeholders <code>@</code> don&#x27;t capture, but can be enclosed in a capturing group</li><li>Placeholders <code>@</code> can be quantified with <code>?</code>, <code>+</code>, <code>*</code> or <code>{2,3}</code></li><li>Empty strings can be safely bound to quantified placeholders</li><li>Escaped placeholders <code>\@</code> match <code>&quot;@&quot;</code> literally</li><li>Character <code>@</code> in a character class matches <code>&quot;@&quot;</code> literally</li><li>Character <code>@</code> in a group comment is not a placeholder</li><li>Character <code>@</code> in an extended mode comment is not a placeholder</li><li>Character <code>@</code> in quote between <code>\Q</code> and <code>\E</code> matches <code>@</code> literally</li><li>Character <code>@</code> used as a group name is not a valid template and throws <code>MalformedPatternException</code></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-11-25T19:03:44.000Z" class="lastUpdatedDate_nN9m">11/25/2022</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/prepared-patterns"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Prepared Patterns - Introduction</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/pattern-list"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multiple patterns Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#placeholder-in-regular-expression" class="table-of-contents__link">Placeholder in regular expression</a></li><li><a href="#literal-usage-of--in-the-template" class="table-of-contents__link">Literal usage of <code>&quot;@&quot;</code> in the template</a><ul><li><a href="#backslash-before-the-placeholder" class="table-of-contents__link">Backslash before the placeholder</a></li></ul></li><li><a href="#quantified-placeholders" class="table-of-contents__link">Quantified placeholders</a><ul><li><a href="#quantifier-" class="table-of-contents__link">Quantifier <code>?</code></a></li><li><a href="#quantifier--1" class="table-of-contents__link">Quantifier <code>+</code></a></li><li><a href="#quantifier-after-an-empty-bound-figure" class="table-of-contents__link">Quantifier after an empty bound figure</a></li></ul></li><li><a href="#capturing-placeholders" class="table-of-contents__link">Capturing placeholders</a></li><li><a href="#character--in-a-character-class" class="table-of-contents__link">Character <code>@</code> in a character class</a></li><li><a href="#comments" class="table-of-contents__link">Comments</a><ul><li><a href="#group-comments" class="table-of-contents__link">Group comments</a></li><li><a href="#comments-and-x-modifier" class="table-of-contents__link">Comments and <code>/x</code> modifier</a></li></ul></li><li><a href="#quote-with-q-and-e" class="table-of-contents__link">Quote with <code>Q</code> and <code>E</code></a></li><li><a href="#improper-usage-of--placeholder" class="table-of-contents__link">Improper usage of <code>@</code> placeholder</a></li><li><a href="#summary" class="table-of-contents__link">Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introduction-preg">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/match">Documentation</a></li><li class="footer__item"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="github-button" href="https://github.com/T-Regx/T-Regx" title="See this project on GitHub" data-icon="octicon-star" data-show-count="true" data-count-href="/T-Regx/T-Regx/stargazers" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">T-Regx</a></li><li class="footer__item"><a href="https://github.com/sponsors/Danon" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsor</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/t.regx.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/t.regx.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 2017-2022 Daniel Wilkowski</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d6ec1de5.js"></script>
<script src="/assets/js/main.afe1c039.js"></script>
</body>
</html>