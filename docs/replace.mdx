---
id: replace
title: Replacing a string
---

import {CodeTabs, Result} from './code';

Using `pattern()->replace()` you can:

- Limit replacements with:
  - `replace()->first()`
  - `replace()->all()`
  - `replace()->only(int)`
- replace with a constant value - [`with()`](replace-with.mdx)/[`withReferences()`](replace-with.mdx)
- replace with a computed value - [`callback()`](replace-callback.mdx)
- replace based on an associative array - [`by()->map()`](replace-by-map.mdx)
- handle subjects that don't match the pattern for replacements - `otherwise()`/`throwingOtherwise()`/`returningOtherwise()`

## Limiting replacements

After `replace()`, you need to explicitly use one of `first()`/`all()`/`only(int)` methods, to express how many
replacements should be done.

<CodeTabs
    tregx={`$subject = "I'm 19, I have 192cm and I was born in 1999";\n
pattern("\\d+")->replace($subject)->first()->with("___");
pattern("\\d+")->replace($subject)->only(2)->with("___");
pattern("\\d+")->replace($subject)->all()->with("___");`}
    php={`$subject = "I'm 19, I have 192cm and I was born in 1999";\n
preg_replace("/\\d+/", "___", $subject, 1);
preg_replace("/\\d+/", "___", $subject, 2);
preg_replace("/\\d+/", "___", $subject);`}/>

<!--T-Regx:{multiline-return(3)}-->
<!--PHP:{multiline-return(3)}-->
<Result>
{`"I'm ___, I have 192cm and I was born in 1999"
"I'm ___, I have ___cm and I was born in 1999"
"I'm ___, I have ___cm and I was born in ___"`}
</Result>

<!--Result-Value:{multiline-return}-->

Read on to learn more about replacing with [a constant value](replace-with.mdx).
