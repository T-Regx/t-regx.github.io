---
id: match-for-each
title: Iterating matches
---


import {Result} from './code';

Use `forEach()` to easily iterate matched occurrences with your callback. You can call `forEach()` with a callback,
that's invoked with [`Detail`].

`forEach()` is identical to simply iterating the matcher.

```php
$matcher = Pattern::of('\w+')->match('I like trains');

foreach ($matcher as $detail) {
    // use detail
}
```

```php
// highlight-next-line
pattern('\w+')->match('Apples are cool')->forEach(function (Detail $match) {
    echo "I matched $match, ";
});
```
<Result text>I matched Apples, I matched are, I matched cool, </Result>

Using [`Detail`] you can get detailed information such as [`offset()`], [`index()`] etc.

## Vanilla PHP `foreach`

You can also use the result of `pattern()->match()` directly in PHP `foreach` loop.

```php
// highlight-next-line
foreach (pattern('\w+')->match('Apples are cool') as $match) {
    echo "I matched " . $match->text() . ", ";
};
```
<Result text>I matched Apples, I matched are, I matched cool, </Result>

[`Detail`]: match-details.md
[`offset()`]: match-details.md#offsets
[`index()`]: match-details.md#ordinal-value-index
[`first()`]: match-first.mdx
[`map()`]: match-map.mdx
[`flatMap()`]: match-flat-map.mdx
[`offsets()`]: match-offsets.mdx#using-inline-offsets-method
[`group(string|int)`]: match-details.md
[`asInt()`]: match-as-int.mdx
