<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="T-Regx Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="T-Regx Blog Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="T-Regx" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script><title data-react-helmet="true">Multiple patterns | T-Regx</title><meta data-react-helmet="true" property="og:url" content="https://t-regx.com/docs/pattern-list"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Multiple patterns | T-Regx"><meta data-react-helmet="true" name="description" content="Documentation for version: 0.37.0"><meta data-react-helmet="true" property="og:description" content="Documentation for version: 0.37.0"><meta data-react-helmet="true" property="og:image" content="https://t-regx.com/img/t.regx.png"><meta data-react-helmet="true" name="twitter:image" content="https://t-regx.com/img/t.regx.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://t-regx.com/docs/pattern-list"><link data-react-helmet="true" rel="alternate" href="https://t-regx.com/docs/pattern-list" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://t-regx.com/docs/pattern-list" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.cfa32c39.css">
<link rel="preload" href="/assets/js/runtime~main.cba31ec4.js" as="script">
<link rel="preload" href="/assets/js/main.62dfa709.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">T-Regx</strong></a><a class="navbar__item navbar__link" href="/docs/overview">Tutorial</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/comparison">Compare</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/replit">Try online</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">ChangeLog</a><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/t.regx.borderless.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><strong class="navbar__title">T-Regx</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/overview">Tutorial</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" href="/comparison">Compare</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/replit">Try online</a></li><li class="menu__list-item"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="menu__link">ChangeLog</a></li><li class="menu__list-item"><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><div class="docSidebarContainer_0YBq" role="complementary"><div class="sidebar_a3j0"><div class="menu menu--responsive thin-scrollbar menu_cyFh"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/overview">What&#x27;s T-Regx?</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Kick Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/installation">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction">Introduction to T-Regx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction-preg">Summary of preg methods</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Matching</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match">Match a subject</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-first">First occurrence</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-for-each">Iterating matches</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-map">Map occurrences</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-flat-map">Map with keys (Flat map)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/count">Count occurrences</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Match Details</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-details">Match details</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-groups">Capturing groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-offsets">Match offsets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-as-int">Handling integers</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Replacing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/replace">Replacing a string</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/replace-with">Replace with a constant value</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/replace-callback">Replace with callback</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Prepared Patterns</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/handling-user-input">Handling user input</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prepared-patterns">Prepared Patterns - User input</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/pattern-list">Multiple patterns</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Misc</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/delimiters">Automatic delimiters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/split">Split a string</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/filter">Filter an array</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-iterator">Iterator</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Exceptions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/exception-structure">Exceptions overview</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">Advanced</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-groups-in-depth">Capturing groups - in depth</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/match-groups-j-modifier">Capturing groups - J modifier</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_lRH+">PHP Hate</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/why-php-sucks">Why PHP sucks?</a></li></ul></li></ul></div></div></div><main class="docMainContainer_r8cw"><div class="container padding-vert--lg docItemWrapper_NJLN"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Multiple patterns</h1></header><div class="markdown"><p>Documentation for version: 0.37.0</p><p><code>PatternList</code> allows you to perform performance-optimized operations on a collection of
patterns.</p><p>While using an array of <code>Pattern</code> in a loop is perfectly viable, it doesn&#x27;t leave any room
for performance optimisation. Operations of <code>PatternList</code> are designed to use minimal resources,
such as a single call to PCRE. On the other hand - looping over <code>Pattern</code> will issue as many
calls as there are patterns in the array.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="available-methods"></a>Available methods<a class="hash-link" href="#available-methods" title="Direct link to heading">#</a></h2><ul><li><a href="#constructing-the-pattern-list">Constructing <code>PatternList</code></a><ul><li><a href="#patternlist-with-pattern-instances"><code>PatternList</code> with <code>Pattern</code> instances</a></li><li><a href="#patternlist-with-prepared-patterns"><code>PatternList</code> with prepared patterns</a></li><li><a href="#patternlist-with-string-patterns"><code>PatternList</code> with <code>string</code> patterns</a></li></ul></li><li>Available methods<ul><li>Predicates<ul><li><a href="#matching-either-pattern"><code>testAny()</code></a>, <a href="#matching-either-pattern"><code>failAny()</code></a></li><li><a href="#matching-collective-patterns"><code>testAll()</code></a>, <a href="#matching-collective-patterns"><code>failAll()</code></a></li></ul></li><li>Subject modification<ul><li><a href="#prune-a-subject-with-the-list"><code>prune()</code></a></li><li><a href="#collective-replace-with"><code>changedReplace()-&gt;with()</code></a></li><li><a href="#collective-replace-with-callback"><code>changedReplace()-&gt;callback()</code></a></li></ul></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="constructing-the-pattern-list"></a>Constructing the pattern list<a class="hash-link" href="#constructing-the-pattern-list" title="Direct link to heading">#</a></h2><p>To create a pattern list, simply pass an <code>array</code> of patterns to <code>Pattern::list()</code> method. The elements
in the <code>array</code> can either be <code>string</code> or instance of <code>Pattern</code>, or a mixture of those.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="patternlist-with-pattern-instances"></a><code>PatternList</code> with <code>Pattern</code> instances<a class="hash-link" href="#patternlist-with-pattern-instances" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern1 = Pattern::of(&#x27;https://(www)?\.google\.com&#x27;);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern2 = Pattern::of(&#x27;facebook.com/messages&#x27;)</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([ $pattern1, $pattern2 ]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="patternlist-with-prepared-patterns"></a><code>PatternList</code> with prepared patterns<a class="hash-link" href="#patternlist-with-prepared-patterns" title="Direct link to heading">#</a></h3><p>Any instance of <code>Pattern</code> can be added into the list, including patterns created with <code>Pattern::inject()</code>,
<code>Pattern::template()</code>, <code>Pattern::mask()</code> and <code>Pattern::builder()</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern1 = Pattern::inject(&#x27;https://@&#x27;, [$domain]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern2 = Pattern::mask($mask, [&#x27;%&#x27; =&gt; &#x27;.*&#x27;])</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern3 = Pattern::alteration([&#x27;{one}&#x27;, &#x27;{two}&#x27;]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([ $pattern1, $pattern2, $pattern3 ]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="patternlist-with-string-patterns"></a><code>PatternList</code> with <code>string</code> patterns<a class="hash-link" href="#patternlist-with-string-patterns" title="Direct link to heading">#</a></h3><p>Additionally, for convenience, passing <code>string</code> is allowed into <code>Pattern::list()</code>.
Passing <code>string</code> into <code>Pattern::list()</code> behaves in exactly the same way, as wrapping the
string in <code>Pattern::of()</code> beforehand.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([ &#x27;https://(www)?\.google\.com&#x27;, &#x27;facebook.com/messages&#x27; ]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Using either type is acceptable in a single <code>Pattern::list()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([ </span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    &#x27;https://(www)?\.google\.com&#x27;, </span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    Pattern::of(&#x27;facebook.com/messages&#x27;),</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    Pattern::inject(&#x27;https://@&#x27;, [$domain])</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To be precise, <code>Pattern::list()</code> accepts <code>(Pattern|string)[]</code> as argument.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="available-methods-1"></a>Available methods<a class="hash-link" href="#available-methods-1" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="matching-either-pattern"></a>Matching either pattern<a class="hash-link" href="#matching-either-pattern" title="Direct link to heading">#</a></h3><p>After you have created <code>PatternList</code>, you can match the list against a certain subject.</p><p>Method <code>PatternList.testAny()</code> returns <code>true</code> when at least one of the patterns matches the subject, and <code>false</code>
when none of the patterns matches the subject.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;bo{2}k&#x27;,</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;bet(ter)?&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">if ($patternList-&gt;testAny(&#x27;book&#x27;)) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    // one of the patterns in the list matched &#x27;book&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Method <code>PatternList.failAny()</code> returns <code>true</code> when at least one of the patterns fails to match the subject, and <code>false</code>
when all the patterns match the subject.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;bo{2}k&#x27;,</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;bet(ter)?&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">if ($patternList-&gt;failAny(&#x27;book&#x27;)) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    // one of the patterns in the list failed to match &#x27;book&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="matching-collective-patterns"></a>Matching collective patterns<a class="hash-link" href="#matching-collective-patterns" title="Direct link to heading">#</a></h3><p>Method <code>PatternList.testAll()</code> returns <code>true</code> only when all of the patterns match the subject, and <code>false</code>
when any of the patterns fails to match the subject.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;^fro&#x27;,</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;do$&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">if ($patternList-&gt;testAll(&#x27;frodo&#x27;)) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    // all the patterns in the list match &#x27;frodo&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Method <code>PatternList.failAll()</code> returns <code>true</code> only when none of the patterns match the subject, and <code>false</code>
when any of the patterns matches the subject.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$patternList = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;^fro&#x27;,</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;do$&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">if ($patternList-&gt;failAll(&#x27;boromir&#x27;)) {</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">    // none of the patterns in the list matches &#x27;frodo&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="subject-modification"></a>Subject modification<a class="hash-link" href="#subject-modification" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="prune-a-subject-with-the-list"></a>Prune a subject with the list<a class="hash-link" href="#prune-a-subject-with-the-list" title="Direct link to heading">#</a></h3><p>Method <code>PatternList.prune()</code> allows to remove all occurrences of all the patterns in the list from the subject.
<code>prune()</code> is useful for cleaning subject of unwanted elements.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$unwanted = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;\w+@\w+\.\w{1,4}&#x27; // anything that looks like mail</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;^ +&#x27;,             // leading spaces</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27; +$&#x27;,             // trailing spaces</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$unwanted-&gt;prune(&#x27; Welcome (mail@gmail.com)! &#x27;); // &quot;Welcome ()!&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>It&#x27;s preferable over iterating the patterns and calling <code>prune()</code> individually, because of
performance optimisations in <code>PatternList.prune()</code>.</p><p>Overlapping patterns are being removed sequentially, based on the order of patterns in the list.
In the example above, first the mails will be removed, then the leading spaces and the the trailing
spaces.</p><p>Here&#x27;s an example to illustrate the order of <code>prune()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$list = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;Hel&#x27;,</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;ello&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$list-&gt;prune(&#x27;Hello jello&#x27;); // &quot;lo j&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="collective-replace-with"></a>Collective replace <code>with()</code><a class="hash-link" href="#collective-replace-with" title="Direct link to heading">#</a></h3><p>Method <code>PatternList.chainedReplace()</code> works very similarly to <code>Pattern.replace()</code>. To replace
a subject with the collective list of patterns, call method <code>chainedReplace()</code>, which accepts the
subject as an argument. On the chained replace, call methods: <code>with()</code>, <code>withReferences()</code> or <code>callback()</code>.</p><p>In this example, we&#x27;ll replace every HTML tag and every number with string <code>&quot;XXX&quot;</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;&lt;(b|div|span)&gt;&#x27;,</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;&lt;/(b|div|span)&gt;&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$replacer = $pattern-&gt;chainedReplace($subject);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$replacer-&gt;with(&#x27;XXX&#x27;); // HTML tags and numbers replaced with &quot;XXX&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><code>PatternList.chainedReplace()</code> also supports Perl-Compatible group references in the replacements,
available with method <code>withReferences()</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:rgb(191, 199, 213);background-color:rgb(41, 45, 62)"><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$pattern = Pattern::list([</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;&lt;(b|div|span)&gt;&#x27;,</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">  &#x27;&lt;/(b|div|span)&gt;&#x27;</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">]);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$replacer = $pattern-&gt;chainedReplace(&quot;Hello &lt;b&gt;there&lt;/b&gt;! How are &lt;span&gt;you&lt;/span&gt;?&quot;);</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:rgb(191, 199, 213)"><span class="token plain">$replaced = $replacer-&gt;withReferences(&#x27;[$1]&#x27;); // &quot;Hello [b]there[/b]! How are [span]you[/span]?&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Remember that <code>with()</code> doesn&#x27;t accept references, so <code>with(&#x27;[$1]&#x27;)</code> will replace occurrences with
literal string <code>&quot;[$1]&quot;</code> exactly, while <code>withReferences(&#x27;[$1]&#x27;)</code> will replace occurrences with the
replacement string <code>&quot;[$1]&quot;</code> where <code>$1</code> will be replaced with the capturing group of index <code>1</code>.
The references syntax is identical to <code>Pattern.replace().withReferences()</code>, so all syntaxes of
references are supported: <code>$1</code>, <code>\1</code> and <code>${1}</code>.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"></div><div class="col text--right"><em><small>Last updated on <time datetime="2022-10-11T22:36:50.000Z" class="lastUpdatedDate_nN9m">10/11/2022</time></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/prepared-patterns"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Prepared Patterns</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/delimiters"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Automatic delimiters Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#available-methods" class="table-of-contents__link">Available methods</a></li><li><a href="#constructing-the-pattern-list" class="table-of-contents__link">Constructing the pattern list</a><ul><li><a href="#patternlist-with-pattern-instances" class="table-of-contents__link"><code>PatternList</code> with <code>Pattern</code> instances</a></li><li><a href="#patternlist-with-prepared-patterns" class="table-of-contents__link"><code>PatternList</code> with prepared patterns</a></li><li><a href="#patternlist-with-string-patterns" class="table-of-contents__link"><code>PatternList</code> with <code>string</code> patterns</a></li></ul></li><li><a href="#available-methods-1" class="table-of-contents__link">Available methods</a><ul><li><a href="#matching-either-pattern" class="table-of-contents__link">Matching either pattern</a></li><li><a href="#matching-collective-patterns" class="table-of-contents__link">Matching collective patterns</a></li></ul></li><li><a href="#subject-modification" class="table-of-contents__link">Subject modification</a><ul><li><a href="#prune-a-subject-with-the-list" class="table-of-contents__link">Prune a subject with the list</a></li><li><a href="#collective-replace-with" class="table-of-contents__link">Collective replace <code>with()</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/installation">Installation</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introduction-preg">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/match">Documentation</a></li><li class="footer__item"><a href="https://github.com/T-Regx/T-Regx/blob/develop/ChangeLog.md" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Reference</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/T-Regx/T-Regx" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a class="github-button" href="https://github.com/T-Regx/T-Regx" title="See this project on GitHub" data-icon="octicon-star" data-show-count="true" data-count-href="/T-Regx/T-Regx/stargazers" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">T-Regx</a></li><li class="footer__item"><a href="https://github.com/sponsors/Danon" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sponsor</a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/t.regx.png" alt="T-Regx" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/img/t.regx.png" alt="T-Regx" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright Â© 2017-2022 Daniel Wilkowski</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cba31ec4.js"></script>
<script src="/assets/js/main.62dfa709.js"></script>
</body>
</html>