---
id: match-iterator
title: Iterator
---


import {Result} from './code';

T-Regx uses vanilla PHP [`\Iterator`] with standard methods:

 - `current()`
 - `key(): scalar`
 - `next(): void`
 - `rewind(): void`
 - `valid(): bool`

## Iterator to array

Method `match()->getIterator()` returns an implementation of PHP [`\Iterator`] which you can be used with other [`\Iterator`]
methods or within your own code, for example PHP methods [`iterator_to_array()`] and [`iterator_count()`].

```php
$matcher = pattern('\w+')->match('Apples are cool');
$iterator = $matcher->getIterator();

/**
 * @var Detail $detail
 */
$detail = $iterator->current();

return $detail->text();
```
<Result>'Apples'</Result>

It is useful with methods that only accept [`\Iterator`], and when an explicit iterator is needed. Using `match()->getIterator()`
for methods that accept `array` is redundant :)

Also, please keep in mind that [`match()`] and other entities (such as [`match()->group(string|int)`] or [`match()->asInt()`])
are also [iterable with `foreach`], making explicit usage of `getIterator()` even less likely.

```php
$pattern = pattern('\w+');

/**
 * @var Detail $match
 */
foreach ($pattern->match('Apples are cool') as $match) {
    $text = $match->text();
}
```

[`match()`]: match.mdx
[`\Iterator`]: https://www.php.net/manual/en/class.iterator.php
[`iterator_to_array()`]: https://www.php.net/manual/en/function.iterator-to-array.php
[`iterator_count()`]: https://www.php.net/manual/en/function.iterator-count.php
[iterable with `foreach`]: match-for-each.mdx#vanilla-php-foreach
[`match()->group(string|int)`]: match-details.md
[`match()->asInt()`]: match-as-int.mdx
