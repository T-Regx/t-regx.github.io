---
id: count
title: Count occurrences
---


import {Result} from './code';

Sometimes, you might stumble upon a situation where an amount of occurrences is needed, but not the occurrences
themselves. In that case, `pattern()->count()` is perfect:

```php
return pattern('[aeiouy]')->count('Computer');
```
<Result>3</Result>

Also, `MatchPattern` is [`\Countable`], so you can use PHP build-in methods, like `count()`:


```php
$match = pattern('[aeiouy]')->match('Computer');

count($match);
```

<Result>3</Result>

## Unmatched subjects

If your pattern does not match the subject, `count()` simply returns `0`.

```php
return pattern('[0-9]')->count('Computer');
```
<Result>0</Result>

## Invalid

Every use of `pattern()` with an invalid pattern will cause `MalformedPatternException`.
```php
try {
    pattern('[aeiouy')->count('Computer');  // malformed pattern
}
catch (MalformedPatternException $ex) {
    echo $ex->getMessage();
}
```
<Result text>Missing terminating ] for character class at offset 7</Result>

## Performance

You might be tempted to use `count()` to check whether your subject was matched by the pattern, since `count()` doesn't
return any matches...

```php
$count = pattern('[aeiouy]')->count('Computer');
return $count > 0;
````
<Result>true</Result>

...but that would be wasteful. You're much better off using
[`test()`](match.mdx#test-a-subject)/[`fails()`](match.mdx#test-a-subject):

```php
return pattern('[aeiouy]')->test('Computer');
```
<Result>true</Result>

This is because `count()` will go through each occurrence of a pattern in a subject, counting it; whereas `test()`
will return right after it finds the first occurrence.

[`\Countable`]: https://www.php.net/manual/en/class.countable.php
[`preg_match()`]: https://www.php.net/manual/en/function.preg-match.php
[`preg_match_all()`]: https://www.php.net/manual/en/function.preg-match-all.php
[`test()`]: match.mdx#test-a-subject
[`fails()`]: match.mdx#test-a-subject
[PHP `preg` methods]: https://www.php.net/manual/en/ref.pcre.php
