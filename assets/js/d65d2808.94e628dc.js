"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1264],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),d=c(n),m=a,f=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?r.createElement(f,l(l({ref:t},p),{},{components:n})):r.createElement(f,l({ref:t},p))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1755:(e,t,n)=>{n.d(t,{O2:()=>g,x4:()=>y});var r=n(7294),a=n(944),i=n(6010);const l="tabItem_vU9c",o="tabItemActive_cw6a";var s=37,c=39;const p=function(e){var t=e.lazy,n=e.block,p=e.defaultValue,u=e.values,d=e.groupId,m=e.className,f=(0,a.Z)(),g=f.tabGroupChoices,h=f.setTabGroupChoices,v=(0,r.useState)(p),y=v[0],k=v[1],b=r.Children.toArray(e.children),x=[];if(null!=d){var P=g[d];null!=P&&P!==y&&u.some((function(e){return e.value===P}))&&k(P)}var N=function(e){var t=e.currentTarget,n=x.indexOf(t),r=u[n].value;k(r),null!=d&&(h(d,r),setTimeout((function(){var e,n,r,a,i,l,s,c;(e=t.getBoundingClientRect(),n=e.top,r=e.left,a=e.bottom,i=e.right,l=window,s=l.innerHeight,c=l.innerWidth,n>=0&&i<=c&&a<=s&&r>=0)||(t.scrollIntoView({block:"center",behavior:"smooth"}),t.classList.add(o),setTimeout((function(){return t.classList.remove(o)}),2e3))}),150))},w=function(e){var t,n;switch(e.keyCode){case c:var r=x.indexOf(e.target)+1;n=x[r]||x[0];break;case s:var a=x.indexOf(e.target)-1;n=x[a]||x[x.length-1]}null==(t=n)||t.focus()};return r.createElement("div",{className:"tabs-container"},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},m)},u.map((function(e){var t=e.value,n=e.label;return r.createElement("li",{role:"tab",tabIndex:y===t?0:-1,"aria-selected":y===t,className:(0,i.Z)("tabs__item",l,{"tabs__item--active":y===t}),key:t,ref:function(e){return x.push(e)},onKeyDown:w,onFocus:N,onClick:N},n)}))),t?(0,r.cloneElement)(b.filter((function(e){return e.props.value===y}))[0],{className:"margin-vert--md"}):r.createElement("div",{className:"margin-vert--md"},b.map((function(e,t){return(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==y})}))))};const u=function(e){var t=e.children,n=e.hidden,a=e.className;return r.createElement("div",{role:"tabpanel",hidden:n,className:a},t)};var d=n(5558);const m="code_JkvM",f=function(e){var t=e.children,n=e.language;return r.createElement("div",{className:m},r.createElement(d.Z,{className:"language-"+(n||"php")},function(e){if("string"==typeof e)return e;if(!Array.isArray(e))throw console.log(this.props.children),"Unexpected child of <Code>";if(e.every((function(e){return"string"==typeof e})))return e.join("")}(t)))};const g=function(e){var t=e.tregx,n=e.php;return r.createElement(p,{defaultValue:"t-regx",values:h(t,n)},t&&r.createElement(u,{value:"t-regx"},r.createElement(f,null,t)),n&&r.createElement(u,{value:"php"},r.createElement(f,null,n)))};function h(e,t){return[e?{label:"T-Regx",value:"t-regx"}:{},t?{label:"PHP",value:"php"}:{}].filter((function(e){return e.value}))}const v="result_6Tn1",y=function(e){var t=e.text,n=e.children;return r.createElement("div",{className:v},r.createElement(f,{language:t?"text":"php"},n))}},6756:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d,frontMatter:()=>s,metadata:()=>c,toc:()=>p});var r=n(7462),a=n(3366),i=(n(7294),n(3905)),l=n(1755),o=["components"],s={id:"introduction-clean",title:"Migrate to T-Regx"},c={unversionedId:"introduction-clean",id:"introduction-clean",isDocsHomePage:!1,title:"Migrate to T-Regx",description:"Because CleanRegex is built on top of SafeRegex, we get protection against warnings, compile errors, notices,",source:"@site/../docs/introduction-clean.mdx",sourceDirName:".",slug:"/introduction-clean",permalink:"/docs/introduction-clean",version:"current",lastUpdatedAt:1663879789,formattedLastUpdatedAt:"9/22/2022",frontMatter:{id:"introduction-clean",title:"Migrate to T-Regx"},sidebar:"docs",previous:{title:"Start with SafeRegex",permalink:"/docs/introduction-safe"},next:{title:"Match a subject",permalink:"/docs/match"}},p=[{value:"Entry points",id:"entry-points",children:[]},{value:"Automatic delimiters",id:"automatic-delimiters",children:[]},{value:"Automatic vs. deliberate delimiters",id:"automatic-vs-deliberate-delimiters",children:[{value:"Old-school patterns",id:"old-school-patterns",children:[]}]},{value:"Prepared Patterns",id:"prepared-patterns-1",children:[]}],u={toc:p};function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Because CleanRegex is built on top of SafeRegex, we get protection against warnings, compile errors, notices,\nfatal errors and magic values for free!"),(0,i.kt)("p",null,"Additionally, CleanRegex provides clean API for regular expressions, as well as solving more complicated\nissues with PHP regex (like eliminating false positives, validating groups) and including features utterly missing\nin PHP: Prepared patterns, offsets while replacing, in-place replacement, composite patterns, built-alteration and more,\nas well as removing uncertainty with false negatives and false positives."),(0,i.kt)("h2",{id:"entry-points"},"Entry points"),(0,i.kt)("p",null,"We have multiple entry points, each with its own use case:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Standard functions - ",(0,i.kt)("inlineCode",{parentName:"li"},"Pattern::of('\\d+')")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"pattern('\\d+')")),(0,i.kt)("li",{parentName:"ul"},"Compatibility legacy - ",(0,i.kt)("inlineCode",{parentName:"li"},"PcrePattern::of('/\\d+/')")," to use vanilla patterns"),(0,i.kt)("li",{parentName:"ul"},"Prepared patterns - to safely use user data in patterns (see ",(0,i.kt)("a",{parentName:"li",href:"/docs/handling-user-input"},"Prepared Patterns"),")")),(0,i.kt)("h4",{id:"class-method-style"},"Class method style:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"use TRegx\\CleanRegex\\Pattern;\n \nPattern::of('[A-Z][a-z]+')->test($subject);\n")),(0,i.kt)("h4",{id:"global-function-style"},"Global function style:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"pattern('/[A-Z]#[a-z]+')->test($subject);\n")),(0,i.kt)("h4",{id:"prepared-patterns"},"Prepared patterns:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"use TRegx\\CleanRegex\\Pattern;\n\nPattern::inject('^\\d+:@$', [$_GET['user']])->test('14:mark'); // true, if $_GET['user'] == 'mark'\n")),(0,i.kt)("h2",{id:"automatic-delimiters"},"Automatic delimiters"),(0,i.kt)("p",null,"Notice, that these patterns ",(0,i.kt)("strong",{parentName:"p"},"are not")," delimited. Smart T-Regx will conveniently add them for you, if you\nuse ",(0,i.kt)("inlineCode",{parentName:"p"},"Pattern::of()")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"pattern()"),". You can add flags to your regular expression by passing a second argument."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"pattern('[A-Z]+', 'im')->test('Hello');\n")),(0,i.kt)("p",null,"To learn more, go to ",(0,i.kt)("a",{parentName:"p",href:"/docs/delimiters"},"Automatic Delimiters"),"."),(0,i.kt)("h2",{id:"automatic-vs-deliberate-delimiters"},"Automatic vs. deliberate delimiters"),(0,i.kt)("p",null,"If you use ",(0,i.kt)("inlineCode",{parentName:"p"},"pattern()")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"Pattern::of()")," with a delimited pattern, like so:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"pattern('/[A-Z]/')->test('/A/');\n")),(0,i.kt)("p",null,"...then ",(0,i.kt)("inlineCode",{parentName:"p"},"/")," characters will simply be treated literally:"),(0,i.kt)(l.O2,{tregx:"pattern('/[A-Z]/')->search('/A/')->first();",php:"preg_match('#/[A-Z]/#', '/A/', $match);\nreturn $match[0];",mdxType:"CodeTabs"}),(0,i.kt)(l.x4,{mdxType:"Result"},"'/A/'"),(0,i.kt)("h3",{id:"old-school-patterns"},"Old-school patterns"),(0,i.kt)("p",null,"Of course, you can still use delimited patterns with flags, with ",(0,i.kt)("inlineCode",{parentName:"p"},"PCrePattern::of()"),". Both versions are equal with each other."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-php"},"PcrePattern::of('/[A-Z]+/im')->test($subject);\n")),(0,i.kt)("h2",{id:"prepared-patterns-1"},"Prepared Patterns"),(0,i.kt)("p",null,"To safely handle unsafe date or user input, see ",(0,i.kt)("a",{parentName:"p",href:"/docs/prepared-patterns"},"Prepared Patterns"),"."))}d.isMDXComponent=!0}}]);